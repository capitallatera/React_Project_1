{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","reportWebVitals.js","index.js"],"names":["reducer","state","action","type","cart","filter","items","id","payload","tempCart","map","item","amount","reduce","cartTotal","cartItem","price","sum","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","toggleAmount","useGlobalContext","useContext","Navbar","className","CartItem","src","alt","onClick","xmlns","viewBox","d","CartContainer","length","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5bef70f.chunk.js","sourcesContent":["const reducer=(state,action)=>{\n    if(action.type==='CLEAR_CART'){\n        return{...state,cart:[]}\n    }\n    \n    if(action.type==='REMOVE'){\n        return { ...state, cart: state.cart.filter((items) => items.id !== action.payload),}\n    }\n    \n    if (action.type ==='INCREASE'){\n        let tempCart=state.cart.map((item)=>{\n            if (item.id === action.payload) {\n                return {...item,amount: item.amount + 1 }\n            }\n            return item\n        });\n        return{ ...state, cart:tempCart }\n    }\n    \n    if (action.type ==='DECREASE') {\n        let tempCart=state.cart.map((item)=>{\n            if (item.id===action.payload) {\n                return {...item,amount:item.amount-1}\n            }\n            return item\n        }).filter((item)=>item.amount!==0)\n        return {...state,cart:tempCart}\n    }\n\n    if (action.type ==='GET_TOTAL') {\n        \n        let { total,amount}=state.cart.reduce((cartTotal,cartItem)=>{\n            const { price,amount }=cartItem\n            const sum=price*amount\n\n            cartTotal.total+=sum\n            cartTotal.amount+=amount\n            return cartTotal  \n        },\n        {\n            total:0,\n            amount:0\n        }\n        )\n        total=parseFloat(total.toFixed(2))\n        return {...state,total,amount}\n    }\n    if (action.type==='LOADING') {\n        return{...state,loading:true}\n    }\n    if (action.type==='DISPLAY_ITEMS') {\n        return{...state,cart:action.payload,loading:false}\n    }\n    if (action.type ===\"TOGGLE_AMOUNT\") {\n       \n       let tempCart=state.cart\n       .map((item)=>{\n            if (item.id===action.payload.id) {\n                if (action.payload.type==='inc') {\n                    \n                    return {...item,amount:item.amount+1}\n                }\n                if (action.payload.type === 'dec') {\n\n                    return { ...item, amount: item.amount - 1 }\n                }\n                \n            }\n           return item\n       })\n       .filter((item) => item.amount !== 0)\n\n        return { ...state, cart: tempCart }\n        \n    }\n    throw new Error('no matching action type')\n    \n}\n\nexport default reducer;","import React, { useContext, useEffect, useReducer } from 'react'\nimport cartItems from './data'  \nimport reducer from './reducer'\nconst url =\"https://course-api.com/react-useReducer-cart-project\"\n\nconst AppContext=React.createContext()\n\nconst initialState={\n    loading:false,\n    cart:cartItems,\n    total:0,\n    amount:0\n}\n\nconst AppProvider=({children})=>{\n    // const [cart,setCart]=useState(cartItems)\n    const [state, dispatch] = useReducer(reducer,initialState)\n    const clearCart=()=>{\n        dispatch({type:'CLEAR_CART'})\n    }\n    const remove=(id)=>{\n        dispatch({type:'REMOVE',payload:id})\n    }\n\n    const increase=(id)=>{\n         dispatch({type:'INCREASE',payload:id})\n    }\n    const decrease=(id)=>{\n        dispatch({type:'DECREASE',payload:id})\n    }\n    const fetchData=async()=>{\n        dispatch({type:'LOADING'})\n        const response=await fetch(url)\n        const cart= await response.json()\n        dispatch({type:'DISPLAY_ITEMS',payload:cart})\n    }\n    const toggleAmount=(id,type)=>{\n        dispatch({type:'TOGGLE_AMOUNT',payload:{id,type}})\n    }\n\n    useEffect(()=>{\n        fetchData()\n    },[])\n\n    useEffect(()=>{\n        dispatch({type:'GET_TOTAL'})\n    },[state.cart])\n\n\n\n    return(\n        <AppContext.Provider value={{...state,clearCart,remove,increase,decrease,toggleAmount}} >\n        {children}\n        </AppContext.Provider>\n    )\n}\nexport const useGlobalContext=()=>{\n    return useContext(AppContext)\n}\nexport {AppContext,AppProvider}","// eslint-disable-next-line\nexport default [\n    {\n        id: 1,\n        title: 'Samsung Galaxy S7',\n        price: 599.99,\n        img:\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n        amount: 1,\n    },\n    {\n        id: 2,\n        title: 'google pixel ',\n        price: 499.99,\n        img:\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n        amount: 1,\n    },\n    {\n        id: 3,\n        title: 'Xiaomi Redmi Note 2',\n        price: 699.99,\n        img:\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n        amount: 1,\n    },\n];","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst Navbar=()=>{\n    const {amount}=useGlobalContext()\n    return (\n        <div className=\"nav-center\">\n            <h3>useReducer</h3>\n            <div className=\"nav-container\">\n                {/* <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n                    <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n                </svg> */}\n            <div className=\"amount-container\">\n                <p className=\"total-amount\">{amount}</p>\n            </div>\n            </div>\n        </div>\n    )\n}\nexport default Navbar;","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst CartItem=({id,img,title,price,amount})=>{\n    const { remove,toggleAmount}=useGlobalContext()\n    // increase, decrease,\n    return(\n        <article className=\"cart-item\">\n            <img src={img} alt={title}/>\n            <div>\n                <h4>{title}</h4>\n                <h4 className=\"item-price\">${price}</h4>\n                <button className=\"remove-btn\" onClick={()=>remove(id)}>remove</button>\n                \n            </div>\n            <div>\n                <button className=\"amount-btn\" onClick={() => toggleAmount(id,'inc')}>\n                    \n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n                        <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n                    </svg>\n                </button>\n                {/* amount */}\n                <p className=\"amount\">{amount}</p>\n                {/* decrease amount */}\n                <button className=\"amount-btn\" onClick={() => toggleAmount(id,'dec') }>\n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n                        <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n                    </svg>\n                </button>\n            </div>\n        </article>\n    )\n}\n\nexport default CartItem;","import React from 'react'\nimport { useGlobalContext } from './context';\nimport CartItem from './CartItem'\n\nconst CartContainer=()=>{\n    const { cart,total,clearCart }=useGlobalContext()\n    if(cart.length===0){\n        return(\n            <section className=\"cart\">\n                <header >\n                    <h2>your bag</h2>\n                    <h4 className=\"empty-cart\">is currently empty</h4>\n                </header>\n            </section>\n        )\n    }\n    \n    return(\n        <section className=\"cart\">\n            <header>\n                <h2>your bag</h2>\n            </header>\n            <div>\n                {cart.map((item)=>{\n                    return <CartItem key={item.id} {...item}/>\n                    \n                })}\n            </div>\n            \n            <footer>\n                <hr/>\n                <div className=\"cart-total\">\n                    <h4>\n                        total<span>${total}</span>\n                    </h4>\n                </div>\n                <button className=\"btn clear-btn\" onClick={clearCart}>\n                    clear cart\n                </button>\n            </footer>\n        </section>\n    )\n}\n\nexport default CartContainer;","\n// import './App.css';\nimport React from 'react'\nimport Navbar from \"./Navbar\";\nimport CartContainer from './CartContainer'\nimport { useGlobalContext } from './context';\n\n\n\nfunction App() {\n  const { loading }=useGlobalContext()\n  if (loading){\n    return(\n      <div className=\"loading\">\n        <h2>Loading...</h2>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar/>\n      <CartContainer/> \n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { AppProvider } from './context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}